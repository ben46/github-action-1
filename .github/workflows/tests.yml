name: Tests

on:
  push:
    paths: 
      - .github/**
    branches:   
      - main
  pull_request:

jobs:
  unit-tests:
    name: Unit Tests
    runs-on: ubuntu-latest
    environment: fantom

    steps:
       - uses: actions/checkout@v4
       # - uses: webfactory/ssh-agent@v0.9.0
       #   with:
       #     ssh-private-key: ${{ secrets.ID_RSA }}

       - run: |
          mkdir -p ~/.ssh
          echo "${{ secrets.ID_RSA }}" > ~/.ssh/id_rsa
          chmod 700 ~/.ssh
          chmod 600 ~/.ssh/id_rsa
          eval $(ssh-agent -s)
          ssh-add ~/.ssh/id_rsa
          
       - run: git config --global user.email "ben02060846@gmail.com"
       - run: git config --global user.name "CI/CD Bot"
       - run: touch 11.md && git add 11.md && git commit -m "sdf"
       - run: git push
